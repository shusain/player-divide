let e,t=[],s=[],i=[];new p5(h=>{h.setup=()=>{function a(){let s=h.select("#playerInput").value();s&&("string"==typeof s&&s.split("\n").forEach(s=>{""!==(s=s.trim())&&0==t.filter(e=>e.toLowerCase()===s.toLowerCase()).length&&(t.push(s),e.addPlayer(s))}),h.select("#playerInput").value(""))}h.createCanvas(1024,768).parent("canvasContainer"),e=new l(h),h.select("#accelerateButton").mousePressed(()=>e.accelerate()),h.select("#stopButton").mousePressed(()=>e.stop()),h.select("#clearWheel").mousePressed(()=>{t=[],s=[],i=[],e=new l(h),h.select("#left-side-team").html("<div>Team 1</div>"),h.select("#right-side-team").html("<div>Team 2</div>")}),(t=["Eric","Shaun","Jonathan","Kim","Justin","Nick","Emily"]).forEach(t=>e.addPlayer(t)),document.getElementById("playerInput").addEventListener("keyup",e=>{"Enter"==e.key&&a()}),h.select("#addPlayer").mousePressed(()=>{a()})},h.draw=()=>{h.background(200),h.fill(0,128,0),h.rect(0,0,h.width/2,h.height),h.fill(128,0,128),h.rect(h.width/2,0,h.width/2,h.height),e.display(),e.spin()}});class l{constructor(e,t=0,s=[]){this.sketch=e,this.angle=t,this.playerWedges=s,this.angleChange=0}addPlayer(e){this.playerWedges.push(new h(this.sketch,e,this.playerWedges.length,2*Math.PI/this.playerWedges.length)),this.playerWedges.forEach((e,t)=>{e.setAngle(2*Math.PI/this.playerWedges.length)})}display(){let e=this.sketch;e.push(),e.translate(e.width/2,e.height/2),e.rotate(this.angle),this.playerWedges.forEach(e=>{e.display()}),e.pop()}accelerate(){this.angleChange+=.02;let e=this.sketch.select("#spinSound");e.currentTime=0,e.play()}stop(){this.playerWedges.forEach(e=>e.flyOff(this.angleChange)),this.sketch.select("#spinSound").pause(),this.sketch.select("#stopWheelSound").play(),setTimeout(()=>{this.dividePlayers(),this.displayPlayersList()},100),this.angleChange=0}spin(){this.angle+=this.angleChange}displayPlayersList(){let e=this.sketch;e.fill(255),e.text("Left side:",10,10);for(let t=0;t<s.length;t++)e.text(s[t],10,30+20*t),e.select("#left-side-team").html(`<div>${s[t]}</div>`,!0);e.text("Right side:",e.width/2+10,10);for(let t=0;t<i.length;t++)e.text(i[t],e.width/2+10,30+20*t),e.select("#right-side-team").html(`<div>${i[t]}</div>`,!0)}dividePlayers(){this.playerWedges.forEach(e=>{let t=Math.atan2(e.velocity.y,e.velocity.x)+this.angle;(t=(t+3*Math.PI)%(2*Math.PI)-Math.PI)>-Math.PI/2&&t<Math.PI/2?i.push(e.name):s.push(e.name)})}}class h{constructor(e,t,s,i){this.sketch=e,this.name=t,this.index=s,this.angle=i,this.color=this.sketch.color(this.sketch.random(255),this.sketch.random(255),this.sketch.random(255)),this.startAngle=this.index*this.angle,this.position=this.sketch.createVector(0,0)}flyOff(e){let t=p5.Vector.fromAngle(this.startAngle+this.angle/2);this.velocity=t.mult(20*e)}update(){this.velocity&&this.velocity.mult(.98),this.velocity&&this.position.add(this.velocity)}setAngle(e){this.angle=e,this.startAngle=this.index*this.angle}display(){let e=this.sketch;e.angleMode(e.RADIANS),e.fill(this.color),e.push(),e.translate(this.position.x,this.position.y),e.arc(0,0,400,400,this.startAngle,this.startAngle+this.angle,e.PIE),e.rotate(this.startAngle+this.angle/2),e.translate(100,0),e.textAlign(e.CENTER),.299*e.red(this.color)+.587*e.green(this.color)+.114*e.blue(this.color)>128?e.fill(0):e.fill(255),e.text(this.name,0,0),e.pop(),this.update()}}
//# sourceMappingURL=index.b9b8a7ea.js.map
